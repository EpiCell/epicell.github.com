
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict //EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en">
  <head>
    <meta charset=utf-8 />
    <title>EpiCell - Map</title>
       <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
       <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>

       <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
        <script type="text/javascript">

          $(function() {
	
          //Basic
            var cartodbMapOptions = {
              zoom: 3,
              center: new google.maps.LatLng( 22.7248057566452, -106.9967118782795 ),
              disableDefaultUI: true,
              mapTypeId: google.maps.MapTypeId.ROADMAP
            }

            // Init the map
            var carto_map = new google.maps.Map(document.getElementById("map"),cartodbMapOptions);

        map_style = [ { stylers: [ { saturation: -65 }, { gamma: 1.52 } ] }, { featureType: "administrative", stylers: [ { saturation: -95 },{ gamma: 2.26 } ] },
        { featureType: "water", elementType: "labels", stylers: [ { visibility: "off" } ] },{ featureType: "administrative.locality", stylers: [ { visibility: 'off' } ] },
        { featureType: "road", stylers: [ { visibility: "simplified" }, { saturation: -99 }, { gamma: 2.22 } ] }, { featureType: "poi", elementType: "labels", stylers: [ { visibility: "off" } ] },
        { featureType: "road.arterial", stylers: [ { visibility: 'off' } ] }, { featureType: "road.local", elementType: "labels", stylers: [ { visibility: 'off' } ] },
        { featureType: "transit", stylers: [ { visibility: 'off' } ] }, { featureType: "road", elementType: "labels", stylers: [ { visibility: 'off' } ] },
        { featureType: "poi", stylers: [ { saturation: -55 } ] } ];

        carto_map.setOptions({styles: map_style});

            // Add the cartodb tiles
            var cartodb_layer = {
              getTileUrl: function(coord, zoom) {
                return "https://sciencehackday-10.cartodb.com/tiles/monarch/"+zoom+"/"+coord.x+"/"+coord.y+".png" +
          "?sql=SELECT * FROM tower_locations";

        },
              tileSize: new google.maps.Size(256, 256)
            };
            var cartodb_imagemaptype = new google.maps.ImageMapType(cartodb_layer);
            carto_map.overlayMapTypes.insertAt(0, cartodb_imagemaptype);
          });

        </script>
        <style>
        body, html{
            font-family: Helvetica;
            height: 100%;
        }
		
        .content {
            width: 100%;
            height: 100%;
        }
        .content #map {
            width: 100%;
            height: 100%;
        }
        </style>
    
  </head>
  <body>
    <div class="header">
    </div>
    <div class="content">
    	<div width="200" height="200" id="map"></div>
    </div>
    <div class="footer">
    </div>
  </body>
</html>